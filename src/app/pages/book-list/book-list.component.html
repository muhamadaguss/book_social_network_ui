<div>
  <div class="advanced-table whitespace-nowrap">
    <ng-datatable
      [rows]="rows"
      [columns]="cols"
      [loading]="loading"
      [totalRows]="total_rows"
      [isServerMode]="true"
      [pageSize]="params.pagesize"
      [sortable]="true"
      [sortColumn]="params.sort_column"
      [sortDirection]="params.sort_direction"
      (changeServer)="changeServer($event)"
    >
      <ng-template slot="id" let-value="data">
        <strong class="text-info">{{ value.id }}</strong>
      </ng-template>
      <ng-template slot="title" let-value="data">
        <div class="flex items-center gap-2">
          <div class="font-medium">
            {{ value.title }}
          </div>
        </div>
      </ng-template>
      <ng-template slot="bookCover" let-value="data">
        <app-image
          [imageId]="value.id"
          [imageName]="value.bookCover"
        ></app-image>
      </ng-template>
      <ng-template slot="owner" let-value="data">
        <a
          [href]="'mailto:' + value.owner"
          class="text-primary hover:underline"
          >{{ value.owner }}</a
        >
      </ng-template>
      <ng-template slot="rate" let-value="data">
        <div class="m-l-auto d-flex gap-4">
          <span
            ><i-tabler
              name="star"
              class="fill-warning icon-18"
              *ngFor="let i of getRandomArray(value.rate)"
            ></i-tabler
          ></span>
        </div>
      </ng-template>
      <ng-template slot="shareable" let-value="data">
        <span class="badge" [ngClass]="value.shareableColor">{{
          value.shareable
        }}</span>
      </ng-template>
      <ng-template slot="archived" let-value="data">
        <span class="badge" [ngClass]="value.archivedColor">{{
          value.archived
        }}</span>
      </ng-template>
    </ng-datatable>
  </div>
</div>
